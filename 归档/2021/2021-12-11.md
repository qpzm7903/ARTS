# 软件架构设计：大型网站技术架构与业务架构融合之道


## 缓冲IO和直接IO
对于缓冲I/O，一个读操作会有3次数据拷贝，一个写操作，有反向的3次数据拷贝：
读：磁盘→内核缓冲区→用户缓冲区→应用程序内存；
写：应用程序内存→用户缓冲区→内核缓冲区→磁盘。
对于直接I/O，一个读操作，会有2次数据拷贝，一个写操作，有反向的2次数据拷贝：
读：磁盘→内核缓冲区→应用程序内存；
写：应用程序内存→内核缓冲区→磁盘。

## 内存映射和零拷贝
用户缓冲区直接映射到内核缓冲区，就会少了一次从用户缓冲区拷贝到内核缓冲区的消耗。
读：磁盘→内核缓冲区；
写：内核缓冲区→磁盘。

零拷贝呢
把socket映射到内核缓冲区，这样磁盘和网络之间就只用经过一次内存，不需要再内存里来回拷贝。

## 网络IO模型


## 
