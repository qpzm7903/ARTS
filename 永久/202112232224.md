#nginx #http

# HTTP配置
[[202112232203|nginx]]的核心功能就是处理HTTP请求。那么HTTP有哪些配置呢？简单想一些会有对http请求进行路由、转发、以及做控制等。

·初始化服务。·HTTP请求解析。·访问路由location。·访问重写rewrite。·访问控制。·数据处理。·关闭连接。·日志记录

## 初始化服务

```nginx.conf
http{
	server{
		listen ip:port
	}
}
```
表示nginx侦听此ip下的端口。一般情况下ip都是本机ip，可能是ipv6,ipv4等。

其他配置有，比如保持长连接、超时、指定主机名


## HTTP请求处理
可以对去请求的各种东西做配置，比如大小，缓存、缓冲，超时等



## 访问重写rewrite

rewrite
作用域：server、location
语法：`rewrite regex replacemenet [flag];`

flag:
- last 改写后跳转到新的URI继续执行
- break，跳转到URI不再执行后续，不影响用户浏览器URI显示
- redirect，返回302，内容为重定向内容，



## 服务日志
格式
```nginx.conf
access_log path [format [buffer=size]];
```
