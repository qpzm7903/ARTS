#exec
#C语言 
exec，可以让子进程执行与父进行不同的程序,[[202112132225]]fork出来的子进程和父进程的程序是一样的。
但是很多时候，都是想创建一个进程，执行不同的程序。

样例如下
```C
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <string.h>
#include <sys/wait.h>

int main(int argc, char *argv[]){
    printf("hello wolrd (pid:%d)\n",(int)getpid());
    int rc = fork();
    if(rc < 0){
        fprintf(stderr,"fork failed\n");
        exit(1);
    }
    else if (rc == 0){
        printf("hello , I am child (pid:%d)\n",(int)getpid());
        char *myargs[3];
        myargs[0] = strdup("wc");
        myargs[1] = strdup("p3.c");
        myargs[2] = NULL;
        execvp(myargs[0],myargs);
        printf("this shouldn't print out");
    }else{
        int wc = wait(NULL);
        printf("hello, i am parent of %d (wc:%d), (pid:%d)\n",rc,wc ,(int)getpid());
    }
    return 0;
}
```

执行
```shell
{22:45}~/workspace ➭ gcc p3.c
{22:45}~/workspace ➭ ./a.out
hello wolrd (pid:261)
hello , I am child (pid:262)
 27  74 721 p3.c
hello, i am parent of 262 (wc:262), (pid:261)
```