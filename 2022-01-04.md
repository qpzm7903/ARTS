# 操作系统导论

## 2 分段
> 在MMU中引入不止一个基址和界限寄存器对，而是给地址空间内的每个逻辑段（segment）一对


第一个问题：操作系统上下文切换要做什么
第二个问题：怎么管理空闲的内存空间
1. 高IO的内存拷贝、整理
2. 空闲管理算法


## 17 空闲空间管理
动态内存空间为什么被称为堆？
> 该库管理的空间由于历史原因被称为堆，在堆上管理空闲空间的数据结构通常称为空闲列表（freelist）。


## 18 分页
> 将空间分割成固定长度的分片。在虚拟内存中，我们称这种思想为分页

相应地，我们把物理内存看成是定长槽块的阵列，叫作页帧（pageframe）。每个这样的页帧包含一个虚拟内存页。
> 关键问题：如何通过页来实现虚拟内存如何通过页来实现虚拟内存，从而避免分段的问题？基本技术是什么？如何让这些技术运行良好，并尽可能减少空间和时间开销？


页表：
> 为了记录地址空间的每个虚拟页放在物理内存中的位置，操作系统通常为每个进程保存一个数据结构，称为页表（page table）

作用
> 页表的主要作用是为地址空间的每个虚拟页面保存地址转换

虚拟地址转化为物理地址
虚拟地址由VPN（虚拟页号）+偏移量组成。转化时，在页表查询到VPN对应的FPN（物理页号）然后拼上偏移量。即可得到物理地址。
所以在执行时，遇到涉及地址的指令，都会额外的进行一次转换。这会导致严重的性能损耗，那么怎么解决？
计算机里解决性能的方法几种：
1. 算法优化
2. 增加缓存

### 页表存在哪里


### 页表中有什么？
页表项（PTE page table item）


# Mysql
#mysql 

接上回[[2021-12-28#mysql的一些快速学习]]


回表
从二级索引找到主键索引后，再从主键索引树找到记录（因为二级索引里只有索引的数据，没有非索引数据）。第二次寻找称为回表。


## B+树索引的适用条件

全值匹配